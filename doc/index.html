<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Home - Utils Doc</title>

    <meta name="description" content="工具函数" />

    <meta name="keywords" content="js, JavaScript, lib, fed" />
    <meta name="keyword" content="js, JavaScript, lib, fed" />

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css" />
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css" />
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <input type="checkbox" id="nav-trigger" class="nav-trigger" />
    <label for="nav-trigger" class="navicon-button x">
      <div class="navicon"></div>
    </label>

    <label for="nav-trigger" class="overlay"></label>

    <nav>
      <input type="text" id="nav-search" placeholder="Search" />

      <h2><a href="index.html">Home</a></h2>
      <h2>
        <a
          href="https://github.com/Jairwin-L/utils"
          target="_blank"
          class="menu-item"
          id="forum_link"
          >Github</a
        >
      </h2>
      <h2>
        <a
          href="https://www.npmjs.com/package/@jairwinl/utils"
          target="_blank"
          class="menu-item"
          id="forum_link"
          >NPM</a
        >
      </h2>
      <h3>Global</h3>
      <ul>
        <li><a href="global.html#appendQueriesToUrl">appendQueriesToUrl</a></li>
        <li><a href="global.html#arrayToObject">arrayToObject</a></li>
        <li><a href="global.html#box">box</a></li>
        <li><a href="global.html#downloadFileUseJS">downloadFileUseJS</a></li>
        <li><a href="global.html#easySessionStorage">easySessionStorage</a></li>
        <li><a href="global.html#formatDate">formatDate</a></li>
        <li><a href="global.html#isArray">isArray</a></li>
        <li><a href="global.html#jsonParseSafely">jsonParseSafely</a></li>
        <li><a href="global.html#msg">msg</a></li>
        <li><a href="global.html#parse">parse</a></li>
        <li><a href="global.html#stringify">stringify</a></li>
      </ul>
    </nav>

    <div id="main">
      <section class="package">
        <h3></h3>
      </section>

      <section class="readme usertext">
        <article>
          <h1>@jairwinl/utils</h1>
          <h2>在线文档</h2>
          <ul>
            <li><a href="https://utils-doc.vercel.app">@jairwinl/utils 文档</a></li>
            <li>备用地址：<a href="http://util-doc.jairwin.cn">查看</a></li>
          </ul>
          <h2>说明</h2>
          <blockquote>
            <p>阅读对象：库使用者</p>
          </blockquote>
          <h3>安装和使用</h3>
          <pre class="prettyprint source"><code>// 安装
pnpm add @jairwinl/utils
</code></pre>
          <h3>引入</h3>
          <pre class="prettyprint source lang-ts"><code>// 1. 单个方法引入方式(✅ 推荐)
import { isArray } from '@jairwinl/utils/esm/isArray';
console.log(isArray(array));

// 2. 批量引入多个方法(❌ 不推荐，所有函数会构建到产物中)
import { isArray } from '@jairwinl/utils/esm';
console.log(isArray(array));

// 3. 引入某个子包(❌ 不推荐，包大小太大)
import * as isArray from '@jairwinl/utils/esm';
console.log(isArray(array));

// 4. 引入整个库(❌ 不推荐，包大小太大)
import * as @jairwinl/utils from '@jairwinl/utils/esm';
console.log(isArray(array));
</code></pre>
          <h3>代码提示</h3>
          <p>
            vscode 代码提示：安装<code>steoates.autoimport</code>插件，并在工程根目录创建
            index.d.ts, 然后添加如下内容<br />
            index.d.ts
          </p>
          <pre
            class="prettyprint source lang-typescript"
          ><code>/* 引入对应的{esm/umd/cjs}/index.d.ts */
/// &lt;reference path=&quot;@jairwinl/utils/esm/index.d.ts&quot; />
</code></pre>
          <h2>维护</h2>
          <blockquote>
            <p>阅读对象：库函维护者</p>
          </blockquote>
          <h3>build</h3>
          <pre class="prettyprint source"><code>pnpm build
</code></pre>
          <blockquote>
            <p>
              构建 js 库，构建成功后将根据不同的模块化方式分别输出到 esm/umd/cjs 目录，并将 JSDOC
              文档输出到 doc/(doc/用于部署为在线文档)
            </p>
          </blockquote>
          <h4>publish</h4>
          <ol>
            <li>切换到 main 分支</li>
            <li>执行发布命令</li>
          </ol>
          <pre class="prettyprint source lang-sh"><code>npm run pub:major / pub:minor / pub:patch
</code></pre>
          <ul>
            <li>pub:major：不兼容，或很大的变更</li>
            <li>pub:minor：小版本迭代，比如新增 utils，必须兼容</li>
            <li>pub:patch：bugfix、文档修改</li>
          </ul>
          <h3>单元测试</h3>
          <p>命令：</p>
          <pre class="prettyprint source lang-sh"><code>pnpm build && pnpm test

# 如果只是修改单测，只需
pnpm test
</code></pre>
          <h2>开发规范</h2>
          <h3>目录结构</h3>
          <pre class="prettyprint source"><code>|____README.md
|____package.json
|____src                源码
| |____index.ts         入口
|____test/            	单元测试
|____esm/             	[构建产物]es module产物，适用于浏览器以及小程序
|____umd/             	[构建产物]umd产物，通用模块定义，适用于amd, script tag等场景
|____cjs/             	[构建产物]common js产物，适用于 Node 或 Browserify/webpack
|____doc/             	[构建生成]jsdoc文档，主要作用文档站点部署
|____jsdoc.json         jsdoc配置
|____rollup.config.js   打包配置
|___ __docdash          docdash相关文档配置文件
|____jsdoc.json 				jsdoc配置
</code></pre>
          <h2>refs</h2>
          <ul>
            <li>
              选择 rollup 原因（仅供参考）
              <ul>
                <li>
                  <a href="https://segmentfault.com/a/1190000038708512"
                    >为什么说 rollup 比 webpack 更适合打包库</a
                  >
                </li>
                <li>
                  <a href="https://juejin.cn/post/7054752322269741064"
                    >rollup 打包产物解析及原理（对比 webpack）</a
                  >
                </li>
              </ul>
            </li>
            <li><a href="https://yuri4ever.github.io/jsdoc/">JSDoc Guide</a></li>
            <li>生成文档: <a href="https://github.com/clenemt/docdash">docdash</a></li>
            <li><a href="https://jsdoc.app/index.html#block-tags">JSDOC</a></li>
            <li>
              <a href="http://clenemt.github.io/docdash/utils_logger.js.html">docdash 范例</a>
            </li>
            <li>
              <a
                href="https://marcobotto.com/blog/compiling-and-bundling-typescript-libraries-with-webpack/"
                >tsd 输出配置参考</a
              >
            </li>
            <li>
              接口设计<a href="https://yanhaijing.com/javascript/2018/08/17/2020-js-lib/">参考</a>
            </li>
            <li>
              rollup-plugin-babel 配置:
              <a href="https://github.com/rollup/rollup-plugin-babel#configuring-babel">参考</a>
            </li>
          </ul>
          <h3>Typescript Definitions</h3>
          <p>
            采用<code>@types</code>方式独立输出 tsd 需要向<a
              href="https://github.com/DefinitelyTyped/DefinitelyTyped"
              >DefinitelyTyped</a
            >提 PR，维护不方便；js 和 types 一致性难保障<a
              href="https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html"
              >参考</a
            >。最终选择直接将 tsd 输出到打包产物目录中。
          </p>
        </article>
      </section>
    </div>

    <br class="clear" />

    <footer>
      Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.11</a> using
      the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
    </footer>

    <script>
      prettyPrint();
    </script>
    <script src="scripts/polyfill.js"></script>
    <script src="scripts/linenumber.js"></script>

    <script src="scripts/search.js" defer></script>

    <link type="text/css" rel="stylesheet" href="__docdash/global.css" />
  </body>
</html>
